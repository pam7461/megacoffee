<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="./css/reset.css"> 
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./css/swiper-bundle.min.css"> 
  <title>메가MGC커피</title>
  <style>
    #skip-menu a{
      position:fixed;
      left:50%;
      top:0;
      z-index:2000;
      transform:translate(-50%,-110%);
      padding:10px;
      background:black;
      font-size:32px;
      color:white;
    }
    #skip-menu a:focus{
      transform:translate(-50%,0);
    }
    .header{
      position:fixed;
      left:0;
      right:0;
      top:0;
      z-index:1000;
      height:100px;
      background:transparent;
      display:flex;
      justify-content:center;
      align-items:center;
      font-size:100px;
      color:red;
      transition:0.3s;
    }
    .header.active{
      background:#fff;
    }
    .sec-swiper {    
      height: 100vh;
    }
    .sec{
      display:flex;
      justify-content:center;
      align-items:center;
      font-size:100px;
    }
    .sec01{
      background:lightblue;
    }
    .sec02{
      background:lightcoral;
    }
    .sec03{
      background:lightgoldenrodyellow;
    }
    .sec04{
      background:lightgreen;
    }
    .sec05{
      background:lightsalmon;
    }
    .sec-swiper-pagination{
      right:auto !important;
      left:40px !important;
      top:auto !important;
      bottom:40px !important;
    }
    .sec-swiper-pagination .swiper-pagination-bullet{
      width:100px;
      height:20px;
      border:1px solid black;
      border-radius:0;
      background:transparent;
    }
    .sec-swiper-pagination .swiper-pagination-bullet::before{
      content:'';
      display:none;
      width:10px;
      height:2px;
      background:#000;
    }
    .sec-swiper-pagination .swiper-pagination-bullet-active{
      background:transparent;
    }
    .sec-swiper-pagination .swiper-pagination-bullet-active::before{
      display:block;
    }

    .footer{
      height:100px;
      background:black;
    }
  </style>
</head>
<body>
  <div id="skip-menu"><a href="#">본문바로가기</a></div>
  <section id="wrap">
    <header class="header">HEADER</header>
    <!-- Slider main container -->
    <div class="swiper sec-swiper">
      <!-- Additional required wrapper -->
      <div class="swiper-wrapper sec-swiper-wrapper">
        <!-- Slides -->
        <section class="sec sec01 main swiper-slide">
          <div class="container">
            <h2>MAIN</h2>
          </div>          
        </section>
        <section class="sec sec02 menu swiper-slide">
          <div class="container">
            <h2>MENU</h2>
          </div>          
        </section>
        <section class="sec sec03 franchise swiper-slide">
          <div class="container">
            <h2>FRANCHISE</h2>
          </div>          
        </section>
        <section class="sec sec04 mega swiper-slide">
          <div class="container">
            <h2>MEGA</h2>
          </div>          
        </section>
        <section class="sec sec05 event swiper-slide">
          <div class="container">
            <h2>EVENT</h2>
          </div>          
        </section>
      </div>
      <!-- If we need pagination -->
      <div class="sec-swiper-pagination swiper-pagination"></div>      
    </div>
    <footer class="footer">FOOTER</footer>
  </section>

  <script src="./js/jquery.min.js"></script>
  <script src="./js/jquery.cookie.min.js"></script>
  <script src="./js/my-function.js"></script>
  <script src="./js/swiper-bundle.min.js"></script>
  <script>
    // --------- 섹션 스와이퍼 시작 -----------
      //섹션 슬라이드 초기화
    const secSwiper = new Swiper('.sec-swiper', {      
      direction: 'vertical',
      mousewheel:true,
      speed:1000,
      pagination: {
        el: '.sec-swiper-pagination',
        clickable:true,
      },
    });
      //섹션 슬라이드 마지막 섹션 휠 잠금
    secSwiper.on('reachEnd',function(){
      secSwiper.mousewheel.disable();
    })
      //섹션 슬라이드 휠 방향에 따른 휠 잠금 방향
    window.onwheel = function(e){      
      if($('.sec05').hasClass('swiper-slide-active')){
        if(e.deltaY>=0){
          secSwiper.mousewheel.disable();
        }else{
          secSwiper.mousewheel.enable();
        }
      }
    }
      //섹션 슬라이드 체인지에 따른 헤더 효과
    secSwiper.on('slideChangeTransitionStart',function(){
      if($('.sec01').hasClass('swiper-slide-active')){
        removeActive($('.header'));
      }else{
        setActive($('.header'));
      }
    })      
      //페이지네이션 생성 및 내용
    $('.sec-swiper-pagination .swiper-pagination-bullet').append('<span class="page-txt"></span>');
    for(let idx=0;idx<=$('.sec').length-1;idx++){
      $('.page-txt').eq(idx).text($('.sec h2').eq(idx).text());
    }
    
    // ---------- 섹션 스와이프 끝 ------------


    


    function setActive(el){
      el.addClass('active');
    }
    function removeActive(el){
      el.removeClass('active');
    }
  </script>
</body>
</html>